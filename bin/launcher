#!/bin/bash
# Maintainer: Jos√© Moreira <jose.moreira@findhit.com>

VERSION=$1
PWD=$PWD

throw () {
    echo ${@:2}
    exit $1
}

[ -z "$(which docker)" ] && {
    throw 1 "Please make sure you have docker installed"
}

## Actions

build () {
    NODE_VERSION=$1
    IMAGE_NAME=$2

    [ -z "$NODE_VERSION" ] && {
        throw 2 "Please provide a version"
    }

    [ -z "$IMAGE_NAME" ] && {
        throw 3 "Please provide a image name for the build"
    }

    # Create a dockerfile in case there is none
    [ ! -f "$PWD/Dockerfile" ] && {
        echo "FR